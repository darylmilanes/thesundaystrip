<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Sunday Strip | Restricted</title>
    <link rel="icon" type="image/png" href="man.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Courier+Prime:ital,wght@0,400;0,700;1,400&family=Permanent+Marker&family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Monoton&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* --- VISUAL IDENTITY --- */
        :root {
            --paper: #fdfbf7;
            --ink: #111111;
            --red: #e63946;
            --blue: #457b9d;
            --accent: #f1faee;
        }

        body {
            background-color: var(--paper);
            color: var(--ink);
            font-family: 'Space Mono', monospace; /* More modern/digital typewriter feel */
            overflow-x: hidden;
        }

        /* --- TYPOGRAPHY --- */
        .title-font {
            font-family: 'Bangers', cursive;
            letter-spacing: 2px;
        }
        
        .hand-font {
            font-family: 'Permanent Marker', cursive;
        }

        .neon-font {
            font-family: 'Monoton', cursive; /* Retro neon style font */
        }

        /* --- GAME UI (LOCK SCREEN) --- */
        .pixel-corners {
            clip-path: polygon(
                0px 10px, 10px 10px, 10px 0px, 
                calc(100% - 10px) 0px, calc(100% - 10px) 10px, 100% 10px, 
                100% calc(100% - 10px), calc(100% - 10px) calc(100% - 10px), calc(100% - 10px) 100%, 
                10px 100%, 10px calc(100% - 10px), 0px calc(100% - 10px)
            );
        }

        .dialogue-box {
            background-color: #2a2a2a;
            color: #fff;
            border: 4px solid #fff;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }

        .typing-cursor::after {
            content: 'â–‹';
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* --- NEON SIGN STYLES & ANIMATIONS --- */
        
        .neon-sign {
            color: #fff;
            text-shadow:
                0 0 5px #fff,
                0 0 10px #fff,
                0 0 20px #e63946,
                0 0 40px #e63946,
                0 0 80px #e63946,
                0 0 90px #e63946,
                0 0 100px #e63946,
                0 0 150px #e63946;
            animation: neon-flicker 3s infinite alternate;
        }

        .neon-border {
            box-shadow:
                0 0 5px #fff,
                inset 0 0 5px #fff,
                0 0 10px #e63946,
                inset 0 0 10px #e63946,
                0 0 20px #e63946,
                inset 0 0 20px #e63946;
            animation: border-flicker 4s infinite alternate;
        }

        @keyframes neon-flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                opacity: 1;
                text-shadow:
                    0 0 5px #fff,
                    0 0 10px #fff,
                    0 0 20px #e63946,
                    0 0 40px #e63946,
                    0 0 80px #e63946,
                    0 0 90px #e63946,
                    0 0 100px #e63946;
            }
            20%, 24%, 55% {
                opacity: 0.5;
                text-shadow: none;
            }
        }

        @keyframes border-flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                opacity: 1;
                box-shadow:
                    0 0 5px #fff,
                    inset 0 0 5px #fff,
                    0 0 10px #e63946,
                    inset 0 0 10px #e63946,
                    0 0 20px #e63946;
            }
            20%, 24%, 55% {
                opacity: 0.4;
                box-shadow: none;
            }
        }

        /* Wrong Code - Red Flashing State */
        .neon-error {
            color: #ff0000 !important;
            text-shadow:
                0 0 10px #ff0000,
                0 0 20px #ff0000,
                0 0 40px #ff0000,
                0 0 80px #ff0000 !important;
            animation: error-flash 0.1s infinite !important;
        }

        .border-error {
            border-color: #ff0000 !important;
            box-shadow:
                0 0 10px #ff0000,
                inset 0 0 10px #ff0000,
                0 0 20px #ff0000 !important;
            animation: error-flash 0.1s infinite !important;
        }

        @keyframes error-flash {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        /* Fade Out Transition */
        .fade-out-slow {
            opacity: 0 !important;
            transition: opacity 2.5s ease-out;
        }

        .fade-in-slow {
            animation: fadeIn 2.5s ease-in forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* --- MAIN CONTENT STYLES --- */
        .story-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid var(--ink);
            background: white;
        }

        .story-card:hover {
            transform: translateY(-5px) translateX(5px);
            box-shadow: -5px 5px 0 0 var(--ink);
        }

        .tag-badge {
            font-size: 0.7rem;
            text-transform: uppercase;
            font-weight: 700;
            padding: 0.25rem 0.5rem;
            border: 1px solid var(--ink);
            background-color: #fff;
            margin-right: 0.25rem;
            margin-bottom: 0.25rem;
            display: inline-block;
        }

        /* Hide scrollbar for modal but keep functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="min-h-screen relative bg-black">

    <!-- ========================================== -->
    <!--          LOCK SCREEN (GAME UI)             -->
    <!-- ========================================== -->
    <div id="lock-screen" class="fixed inset-0 z-50 bg-black flex flex-col items-center justify-end md:justify-center overflow-hidden transition-colors duration-1000">
        
        <!-- NEON SIGN (Fixed Top Center) -->
        <div id="neon-wrapper" class="absolute top-10 md:top-16 left-1/2 -translate-x-1/2 z-40 transition-opacity duration-1000">
            <div id="neon-border" class="border-4 border-white px-8 py-2 md:px-12 md:py-4 rounded-xl neon-border bg-black/50 backdrop-blur-sm">
                <h1 id="neon-text" class="text-5xl md:text-7xl neon-font tracking-widest neon-sign select-none">
                    STOP
                </h1>
            </div>
            <!-- Wires holding the sign -->
            <div class="absolute -top-16 md:-top-20 left-4 w-0.5 h-16 md:h-20 bg-gray-800"></div>
            <div class="absolute -top-16 md:-top-20 right-4 w-0.5 h-16 md:h-20 bg-gray-800"></div>
        </div>

        <!-- Darkness Overlay (Ambient) -->
        <div id="darkness-overlay" class="absolute inset-0 bg-black/70 z-0 pointer-events-none transition-opacity duration-1000"></div>

        <!-- Background Pattern -->
        <div id="bg-pattern" class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')] z-[-1]"></div>

        <!-- The Character & Dialogue Container -->
        <div class="relative z-10 w-full max-w-4xl mx-auto h-full flex flex-col justify-end md:justify-center items-center pb-0 md:pb-4 transition-opacity duration-500" id="lock-content">
            
            <!-- Character Image Container -->
            <!-- Positioned lower to avoid overlap with sign -->
            <div class="w-80 md:w-80 lg:w-96 transition-all duration-500 hover:scale-105 relative z-10 -mb-16 md:-mb-24 pointer-events-none mt-40 md:mt-20">
                <img src="man.png" alt="Gatekeeper" class="w-full h-auto drop-shadow-[0_0_15px_rgba(255,255,255,0.2)]">
            </div>

            <!-- Dialogue Box Wrapper -->
            <div class="w-11/12 md:w-3/4 lg:w-2/3 relative z-20 mb-8 md:mb-0 overflow-visible">
                <div class="pixel-corners dialogue-box p-6 md:p-8 relative mt-12 md:mt-20">
                    
                    <!-- Speaker Name -->
                    <div class="inline-block bg-white text-black px-4 py-1 border-2 border-black font-bold uppercase tracking-wider text-sm transform -rotate-1 mb-4 shadow-sm">
                        The Gatekeeper
                    </div>

                    <!-- Dialogue Text -->
                    <div class="mb-6 font-mono text-sm md:text-lg leading-relaxed h-28 md:h-24 overflow-hidden relative z-20">
                        <span id="typewriter-text"></span><span class="typing-cursor"></span>
                    </div>

                    <!-- Input Area -->
                    <div class="flex flex-col md:flex-row gap-3 relative z-20">
                        <input type="password" id="access-code" placeholder="ENTER ACCESS CODE..." 
                            class="flex-grow bg-black border-2 border-gray-600 text-white px-4 py-3 font-mono outline-none focus:border-white focus:bg-gray-900 transition-colors uppercase placeholder-gray-500">
                        
                        <button onclick="checkCode()" class="bg-white text-black px-8 py-3 font-bold border-2 border-gray-400 hover:bg-red-600 hover:text-white hover:border-white transition-colors uppercase tracking-widest">
                            Unlock
                        </button>
                    </div>

                    <!-- Hint -->
                    <p class="mt-4 text-[10px] md:text-xs text-gray-400 text-center md:text-left relative z-20">
                        * Don't have the code? Email hello@darylmilanes.com
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================== -->
    <!--            MAIN CONTENT (APP)              -->
    <!-- ========================================== -->
    <div id="app-content" class="min-h-screen flex flex-col hidden bg-[#fdfbf7]">
        
        <!-- HEADER -->
        <nav class="sticky top-0 z-40 bg-white/95 backdrop-blur-sm border-b-4 border-black">
            <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 bg-red-600 rounded-full animate-pulse"></div>
                    <span class="text-xs font-bold tracking-widest uppercase">Restricted Archive</span>
                </div>
                <div class="flex items-center gap-4">
                    <div class="text-xs font-mono hidden md:block">
                        ID: <span class="bg-black text-white px-2 py-1">AUTHORIZED</span>
                    </div>
                    <button onclick="logout()" class="text-xs font-bold uppercase border-2 border-black px-3 py-1 hover:bg-black hover:text-white transition-colors flex items-center gap-1">
                        <i data-lucide="log-out" size="12"></i> Exit
                    </button>
                </div>
            </div>
        </nav>

        <!-- HERO SECTION -->
        <header class="w-full max-w-7xl mx-auto px-4 pt-12 pb-8 md:pt-20 md:pb-16 text-center">
            <div class="inline-block border-2 border-black px-4 py-1 text-sm font-bold uppercase tracking-[0.2em] mb-4 bg-[#f4d03f] transform -rotate-1">
                Late Night Edition
            </div>
            <h1 class="text-5xl md:text-8xl title-font uppercase leading-[0.9] mb-6">
                The Sunday <br>
                <span class="text-[#e63946] relative inline-block">
                    Strip
                    <svg class="absolute w-full h-3 -bottom-1 left-0 text-black opacity-20" viewBox="0 0 100 10" preserveAspectRatio="none">
                        <path d="M0 5 Q 50 10 100 5" stroke="currentColor" stroke-width="3" fill="none" />
                    </svg>
                </span>
            </h1>
            <p class="max-w-md mx-auto text-sm md:text-base opacity-70 font-mono leading-relaxed">
                "Where the ink never dries and the lights stay low."<br>
                <span class="text-[10px] uppercase text-gray-400 mt-2 block">Private Collection</span>
            </p>
        </header>

        <!-- STORIES GRID -->
        <main class="flex-grow w-full max-w-7xl mx-auto px-4 pb-20">
            <!-- Grid Container -->
            <div id="story-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
                <!-- JS will inject content here -->
            </div>
        </main>

        <!-- FOOTER -->
        <footer class="border-t-4 border-black bg-white mt-auto py-12">
            <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="text-center md:text-left">
                    <h2 class="title-font text-2xl">See You Next Sunday</h2>
                    <p class="text-xs text-gray-500 mt-1 max-w-xs">All characters appearing in this work are fictitious. Any resemblance to real persons is purely coincidental.</p>
                </div>
                <div class="flex gap-6">
                    <a href="#" class="hover:text-[#e63946] transition-colors"><i data-lucide="twitter"></i></a>
                    <a href="#" class="hover:text-[#e63946] transition-colors"><i data-lucide="instagram"></i></a>
                    <a href="#" class="hover:text-[#e63946] transition-colors"><i data-lucide="mail"></i></a>
                </div>
            </div>
            <div class="text-center mt-8 text-[10px] font-mono uppercase tracking-widest opacity-40">
                Â© 2025 The Sunday Strip. All rights reserved.
            </div>
        </footer>
    </div>

    <!-- LOGIC -->
    <script>
        lucide.createIcons();

        // --- DATA ---
        const stories = [
            {
                id: 1,
                title: "The God of Broken Things",
                author: "Kael & Elian",
                tags: ["Fantasy", "Angst", "Steamy"],
                spicyLevel: 3,
                summary: "He hated broken things. Then he found a fallen angel in the scrap heap. A sensual cut.",
                link: "the-god-of-broken-things.html",
                excerpt: "The scrap heap was where dreams went to die, but that night, Kael found something breathing. The angel's wing was bent, the feathers matted with oil, but the eyes... the eyes burned with a defiant fire that mirrored the forge itself."
            },
            {
                id: 2,
                title: "The God of Broken Things II",
                author: "Kael & Elian",
                tags: ["Fantasy", "Angst", "Steamy"],
                spicyLevel: 4,
                summary: "Part II: The Entropy of Desire. Elian returned, but the furnace is hotter now. Reality is starting to crack.",
                link: "tgbot2.html",
                excerpt: "The air in the forge had changed. It wasn't just heat anymore; it was pressure. Elian sat on the workbench, watching Kael with a gaze that felt heavy, a gaze that promised destruction as much as salvation."
            },
            {
                id: 3,
                title: "Enemy Lines",
                author: "Rix & Vaughn",
                tags: ["Enemies to Lovers", "Angst", "Steamy", "Sci-Fi"],
                spicyLevel: 5,
                summary: "We were supposed to kill each other. Instead, we found ourselves in a safe house with only one bed.",
                link: "enemy-lines.html",
                excerpt: "The storm raged outside, mirroring the chaos inside the small safehouse. Rix lowered his gun, his chest heaving. Vaughn just smirked, blood trickling from his lip. 'You missed,' he whispered. 'You never miss.'"
            },
            {
                id: 4,
                title: "Assets and Liabilities",
                author: "Jace & Vance",
                tags: ["Office Romance", "Power Play", "Plot Twist"],
                spicyLevel: 5,
                summary: "I merged my company with his to save it. I didn't realize he was buying me too.",
                link: "assets-and-liabilities.html",
                excerpt: "The boardroom was empty, save for the two of them. Vance slid the contract across the mahogany table. 'Read the fine print, Jace,' he murmured, his voice smooth as silk. 'You're not just signing over the assets. You're signing over the liabilities. And darling... you are the biggest liability here.'"
            },
            {
                id: 5,
                title: "Ang Huling Script",
                author: "Gio & Lucas",
                tags: ["Drama", "Plot Twist", "Romance"],
                spicyLevel: 4,
                summary: "I'm a paid actor for his roleplay fantasies. But why does his apartment feel so familiar?",
                link: "ang-huling-script.html",
                excerpt: "Lucas adjusted his tie in the mirror. Another night, another character. But when Gio opened the door, the look in his eyes wasn't lust. It was recognition. A terrifying, heartbreaking recognition that Lucas couldn't place."
            },
            {
                id: 6,
                title: "Ang Huling Ritwal",
                author: "Caleb & Juno",
                tags: ["Psychological", "BL", "Obsession"],
                spicyLevel: 5,
                summary: "He kept me inside to protect me. But who is protecting me from him? A story of obsession and fractured reality.",
                link: "ang-huling-ritwal.html",
                excerpt: "The windows were painted black. 'To keep the sun out,' Juno had said. But Caleb knew it was to keep him in. He traced the bruises on his wrist, faint maps of a love that felt more like a cage."
            },
            {
                id: 7,
                title: "Sa Huli, Ang Normal",
                author: "Nico & Dante",
                tags: ["Betrayal", "Drama", "Steamy"],
                spicyLevel: 5,
                summary: "A passionate goodbye in a cheap hotel. One final encounter before he leaves for a 'normal' life. But who defines normal?",
                link: "sa-huli-ang-normal.html",
                excerpt: "The neon sign outside buzzed incessantly. Inside, the sheets were tangled, a testament to the last hour. Nico sat on the edge of the bed, smoking. 'This is it then?' Dante asked, buttoning his shirt. 'Back to reality?' Nico didn't answer. Reality was a check Dante had written, and Nico had already cashed it."
            }
        ];

        // --- ACCESS CONTROL ---
        const lockScreen = document.getElementById('lock-screen');
        const lockContent = document.getElementById('lock-content');
        const appContent = document.getElementById('app-content');
        const typewriterElement = document.getElementById('typewriter-text');
        const accessInput = document.getElementById('access-code');
        const neonText = document.getElementById('neon-text');
        const neonBorder = document.getElementById('neon-border');
        const neonWrapper = document.getElementById('neon-wrapper');
        
        const dialogueText = "Halt! This area is restricted. To enter, you need the secret code. If you don't have it, email the admin to get access.";
        let charIndex = 0;

        // Typewriter Effect Function
        function typeWriter() {
            if (charIndex < dialogueText.length) {
                typewriterElement.innerHTML += dialogueText.charAt(charIndex);
                charIndex++;
                setTimeout(typeWriter, 30); // Speed of typing
            }
        }

        function checkAccess() {
            const isUnlocked = localStorage.getItem('sunday_strip_access') === 'true';
            
            if (isUnlocked) {
                // If already unlocked in previous session, skip animations
                lockScreen.style.display = 'none';
                appContent.classList.remove('hidden');
                // Simulate "Lights On" immediately
                appContent.style.opacity = '1';
            } else {
                // First time / Locked: Start Typewriter effect
                setTimeout(typeWriter, 500);
            }
        }

        function checkCode() {
            const code = accessInput.value.trim();
            if (code === 'iam18') {
                localStorage.setItem('sunday_strip_access', 'true');
                
                // Success Animation Text
                typewriterElement.innerHTML = "<span class='text-green-400'>ACCESS GRANTED. FADING OUT...</span>";
                
                // 1. Turn off the sign slowly (Dimming Effect) & Fade UI
                setTimeout(() => {
                    // Turn off neon animations
                    neonText.classList.remove('neon-sign');
                    neonBorder.classList.remove('neon-border');
                    
                    // Fade out everything synchronized
                    neonWrapper.classList.add('fade-out-slow');
                    lockContent.classList.add('fade-out-slow');
                    
                    // Ensure background is fully black for the transition
                    lockScreen.style.backgroundColor = '#000';
                    
                }, 500);

                // 2. Reveal Content (Slowly bring brightness back)
                setTimeout(() => {
                    lockScreen.style.display = 'none';
                    appContent.classList.remove('hidden');
                    
                    // Trigger reflow to ensure transition happens
                    void appContent.offsetWidth;
                    
                    // Fade in app content
                    appContent.classList.add('fade-in-slow');
                }, 3000); // Wait for fade out time

            } else {
                // Failure Animation
                // 1. Trigger Red Flash
                neonText.classList.remove('neon-sign');
                neonBorder.classList.remove('neon-border');
                
                // Force reflow
                void neonText.offsetWidth;
                
                neonText.classList.add('neon-error');
                neonBorder.classList.add('border-error');
                
                // 2. Input Feedback
                accessInput.classList.add('border-red-500', 'animate-pulse');
                typewriterElement.innerHTML = "<span class='text-red-500'>ACCESS DENIED. TRY AGAIN.</span>";
                
                // 3. Revert after 1 second
                setTimeout(() => {
                    neonText.classList.remove('neon-error');
                    neonBorder.classList.remove('border-error');
                    
                    neonText.classList.add('neon-sign');
                    neonBorder.classList.add('neon-border');
                    
                    accessInput.classList.remove('border-red-500', 'animate-pulse');
                    typewriterElement.innerHTML = ""; 
                    charIndex = 0;
                    typeWriter(); // Re-type original message
                }, 1000);
            }
        }

        function logout() {
            localStorage.removeItem('sunday_strip_access');
            location.reload();
        }

        // Allow 'Enter' key to submit
        accessInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                checkCode();
            }
        });

        // --- APP LOGIC ---

        function renderStories() {
            const grid = document.getElementById('story-grid');
            grid.innerHTML = '';
            
            stories.forEach(story => {
                const peppers = 'ðŸŒ¶ï¸'.repeat(story.spicyLevel);
                const tagsHtml = story.tags.map(tag => 
                    `<span class="tag-badge text-gray-600">${tag}</span>`
                ).join('');

                const card = document.createElement('article');
                card.className = 'story-card flex flex-col h-full relative group cursor-pointer overflow-hidden';
                
                // Click Handler - New Tab
                if (story.link) {
                    card.onclick = () => window.open(story.link, '_blank');
                }
                
                card.innerHTML = `
                    <!-- Top Strip (Title Replaces Date) -->
                    <div class="h-28 bg-gray-100 border-b-2 border-black flex flex-col justify-center px-6 relative overflow-hidden">
                        <div class="absolute inset-0 opacity-5 bg-[url('https://www.transparenttextures.com/patterns/notebook.png')]"></div>
                        
                        <!-- Title (Now in Header) -->
                        <h3 class="text-xl md:text-2xl title-font leading-tight z-10 group-hover:text-[#e63946] transition-colors relative">${story.title}</h3>
                        
                        <!-- Spicy Level -->
                        <div class="absolute top-2 right-2 z-10">
                            <span class="text-[10px] font-mono text-gray-500 tracking-widest">${peppers}</span>
                        </div>
                    </div>

                    <!-- Body -->
                    <div class="p-6 flex-grow flex flex-col relative z-10 bg-white">
                        
                        <!-- Meta Info (Author Only) -->
                        <div class="flex justify-between items-center text-xs font-mono text-gray-400 mb-4 border-b border-dashed border-gray-200 pb-2">
                            <span class="uppercase">By ${story.author}</span>
                        </div>

                        <div class="mb-4 flex flex-wrap">
                            ${tagsHtml}
                        </div>

                        <p class="text-sm font-mono text-gray-600 leading-relaxed mb-6 border-l-2 border-gray-200 pl-3">
                            "${story.summary}"
                        </p>

                        <div class="mt-auto pt-4 flex justify-end items-center text-xs font-bold uppercase tracking-wider">
                            <span class="text-[#e63946] group-hover:translate-x-1 transition-transform">Read Issue &rarr;</span>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Initialize
        checkAccess();
        renderStories();

    </script>
</body>
</html>
